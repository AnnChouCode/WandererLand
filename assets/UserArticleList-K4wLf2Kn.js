import{u as g}from"./userArticleStore-LFBMPB_w.js";import{_ as m,m as b,a as v,r as x,o as a,c as r,b as t,n as f,l as u,F as h,d as p,t as d,e as w,f as C,h as k}from"./index-xxmhpSli.js";const L={data(){return{articles:[],filterRules:{}}},methods:{...b(g,["getArticlesList"]),filterHandle(o){if(o){const[s,n]=o;this.filterRules[s]=n;const i=Object.entries(this.filterRules).map(l=>l.join("=")).join("&");this.$router.push(`/articleList?${i}`);return}this.filterRules={},this.$router.push("/articleList")},filterShow(o){const{category:s,tag:n}=o;let i=this.articlesList;s!==void 0&&s!=="all"&&(i=i.filter(l=>l.category===s)),n!==void 0&&(i=i.filter(l=>l.tag.includes(n))),this.articles=i}},watch:{$route(){const o={category:this.$route.query.category,tag:this.$route.query.tag};this.filterShow(o)}},mounted(){this.getArticlesList();const o={category:this.$route.query.category,tag:this.$route.query.tag};this.filterShow(o)},computed:{...v(g,["articlesList","tagList"])}},R={class:"container user-page-container flex-grow-1"},$=t("h2",{class:"mb-7 mb-md-8 h1 lh-sm title-letter-spacing text-center h1"},"最新消息",-1),S={class:"row g-3 g-lg-8"},A={class:"col-lg-3"},H={class:"d-flex flex-row flex-lg-column justify-content-between gap-0 gap-lg-6 list-unstyled fs-info fs-lg-5"},j=t("hr",{class:"my-3 my-lg-7"},null,-1),q={class:"accordion accordion-flush",id:"accordionCategory"},B={class:"accordion-item"},D=t("h2",{class:"accordion-header"},[t("button",{class:"accordion-button fs-info fs-lg-5 bg-transparent p-0",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapseCategory","aria-expanded":"true","aria-controls":"collapseCategory",style:{"box-shadow":"none"}}," 探索主題 ")],-1),N={id:"collapseCategory",class:"accordion-collapse collapse show","data-bs-parent":"#accordionCategory"},V={class:"accordion-body px-0 py-3 py-lg-6"},F={class:"d-flex gap-1 mb-0 flex-wrap"},U=["onClick"],z={class:"col-lg-9"},E={class:"row g-3 g-lg-8"},M={class:"ratio ratio-4x3 overflow-hidden"},O=["src","alt"],T={class:"px-0 px-lg-3 py-4"},G={class:"mb-2 fs-info fs-md-5 fw-bold doubleline-ellipsis"},I={key:0,class:"d-flex mb-2 mb-lg-4 text-info fs-info"},J=t("span",{class:"px-2 fw-bold"},"‧",-1),K={class:"single-ellipsis"},P={class:"fs-info fs-md-6 threeline-ellipsis"};function Q(o,s,n,i,l,c){const _=x("router-link");return a(),r("div",R,[$,t("div",S,[t("div",A,[t("ul",H,[t("li",null,[t("a",{href:"#",class:f(["text-default",l.filterRules.category===void 0?"fw-bold":""]),onClick:s[0]||(s[0]=u(e=>c.filterHandle(),["prevent"]))},"全部文章",2)]),t("li",null,[t("a",{href:"#",class:f(["text-default",l.filterRules.category==="最新消息"?"fw-bold":""]),onClick:s[1]||(s[1]=u(e=>c.filterHandle(["category","最新消息"]),["prevent"]))},"最新消息",2)]),t("li",null,[t("a",{href:"#",class:f(["text-default",l.filterRules.category==="活動講座"?"fw-bold":""]),onClick:s[2]||(s[2]=u(e=>c.filterHandle(["category","活動講座"]),["prevent"]))},"活動講座",2)]),t("li",null,[t("a",{href:"#",class:f(["text-default",l.filterRules.category==="專欄文章"?"fw-bold":""]),onClick:s[3]||(s[3]=u(e=>c.filterHandle(["category","專欄文章"]),["prevent"]))},"專欄文章",2)])]),j,t("div",q,[t("div",B,[D,t("div",N,[t("div",V,[t("div",F,[(a(!0),r(h,null,p(o.tagList.articleTagList,(e,y)=>(a(),r("button",{type:"button",class:"btn px-3 py-1 bg-light rounded-pill fs-info text-info",key:y,onClick:W=>c.filterHandle(["tag",e])},d(e),9,U))),128))])])])])])]),t("div",z,[t("div",E,[(a(!0),r(h,null,p(l.articles,e=>(a(),r("div",{class:"col-6",key:e.id},[w(_,{to:`/articleinfo/${e.id}`,class:"text-default"},{default:C(()=>[t("div",M,[t("img",{src:e.imageUrl,alt:e.title,class:"object-fit-cover w-100 h-100"},null,8,O)]),t("div",T,[t("h3",G,d(e.title),1),e.create_at?(a(),r("div",I,[t("span",null,d(new Date(e.create_at*1e3).toLocaleDateString()),1),J,t("span",K,d(e.author),1)])):k("",!0),t("p",P,d(e.description),1)])]),_:2},1032,["to"])]))),128))])])])])}const Z=m(L,[["render",Q]]);export{Z as default};
