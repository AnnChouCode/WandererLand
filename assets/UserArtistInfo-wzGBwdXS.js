import{u as f}from"./userProductStore-87Gc5x19.js";import{_ as y,m as x,a as k,r as p,o as i,c as r,b as t,F as h,d as v,h as l,t as d,e as _,l as I,f as w}from"./index-PQM2F2aa.js";import{b as P}from"./btnFavorite-r3iM8zSG.js";import"./sweetalert2.all-hkHiyfXT.js";import"./favoriteStore-nW7D9jvI.js";import"./statusStore-jSuu7i9w.js";var A={VITE_API:"https://vue3-course-api.hexschool.io/v2",VITE_PATH:"wandererland",BASE_URL:"/WandererLand/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_API:S,VITE_PATH:E}=A,U={data(){return{artist:{},relatedProducts:[]}},methods:{...x(f,["getAllProducts"]),changeImage(s){this.artist.currentImage=this.artist.imagesStock[s]},getCurrentArtist(s){const n=`${S}/api/${E}/product/${s}`;return this.axios.get(n).then(c=>{const a=c.data.product;return this.artist={artistInfo:a,currentImage:a.imageUrl},a.imagesUrl&&(this.artist.imagesStock=[a.imageUrl,...a.imagesUrl]),a.title}).catch(c=>console.log(c.response.data.message))},getRelatedProducts(s){let n=this.sortNewest.newestProduct.filter(c=>c.artist===s);n.length||(n=this.sortNewest.newestProduct.filter(c=>c.group===this.artist.artistInfo.group)),this.relatedProducts=n}},async mounted(){try{const s=this.$route.params.id,n=await this.getCurrentArtist(s);await this.getAllProducts(),this.getRelatedProducts(n)}catch(s){throw console.log("錯誤:",s),s}},computed:{...k(f,["sortNewest"])},components:{btnFavorite:P}},V={key:0,class:"container user-page-container"},j={class:"row g-1 g-lg-6"},C={class:"col-12 col-md-8"},N={class:"row"},T={class:"position-relative col-12 col-lg-3"},B={class:"bg-tertiary h-100 overflow-hidden"},D={key:0,class:"position-lg-absolute row gap-0 gap-lg-2 px-2 py-2 py-lg-0 px-lg-auto flex-nowrap flex-lg-column overflow-auto scrollbar-y-hide w-lg-100 h-lg-100"},F=["onClick"],R=["src"],L={class:"col-12 col-lg-9 order-first order-lg-last flex-shrink-0 content"},H={class:"bg-tertiary ratio-1x1 overflow-hidden"},M=["src","alt"],O={class:"col-12 col-md-4"},$={class:"p-3 p-lg-7 mb-3 mb-md-6 bg-tertiary"},z={class:"d-flex justify-content-between align-items-start mb-5 mb-md-7"},W={class:"h5 fw-bold"},q={class:"lh-base lh-md-lg fs-info text-info"},G={key:1,class:"container"},J={class:"py-7 py-md-9"},K=t("h2",{class:"mb-7 mb-md-8 fs-2 fs-md-1"},"藝術家作品",-1),Q={class:"row g-3 g-md-8"},X={class:"position-relative d-flex justify-content-center align-items-center ratio-1x1 overflow-hidden product-img"},Y=["src","alt"],Z=["src"],tt={class:"py-3 px-0 px-md-4"},st={class:"mb-2 fs-info fs-md-5 fw-bold text-default"},et={key:0,class:"d-flex justify-content-between align-items-center"},ot={class:"fs-info fs-md-6 text-info"};function it(s,n,c,a,o,b){const m=p("btnFavorite"),u=p("router-link");return i(),r(h,null,[o.artist.artistInfo?(i(),r("div",V,[t("div",j,[t("div",C,[t("div",N,[t("div",T,[t("div",B,[o.artist.imagesStock?(i(),r("div",D,[(i(!0),r(h,null,v(o.artist.imagesStock,(e,g)=>(i(),r("a",{href:"#",class:"col-3 col-lg-12 ratio-1x1 overflow-hidden",key:"img"+g,onClick:I(rt=>b.changeImage(g),["prevent"])},[t("img",{src:e,alt:"product",class:"object-fit-contain w-100 h-100"},null,8,R)],8,F))),128))])):l("",!0)])]),t("div",L,[t("div",H,[t("img",{src:o.artist.currentImage,alt:o.artist.artistInfo.title,class:"object-fit-contain w-100 h-100"},null,8,M)])])])]),t("div",O,[t("div",$,[t("div",z,[t("div",null,[t("h2",W,d(o.artist.artistInfo.title),1)]),_(m)]),t("p",q,d(o.artist.artistInfo.content),1)])])])])):l("",!0),o.relatedProducts.length?(i(),r("div",G,[t("div",J,[K,t("div",Q,[(i(!0),r(h,null,v(o.relatedProducts,e=>(i(),r("div",{class:"col-6 col-md-4",key:e.id},[_(u,{to:`/productinfo/${e.id}`},{default:w(()=>[t("div",X,[t("img",{src:e.imageUrl,alt:e.title,class:"object-fit-contain w-100 h-100 product-img-up"},null,8,Y),t("img",{src:e.imagesUrl[0],alt:"item.title",class:"position-absolute z-n1 object-fit-contain w-100 h-100 product-img-down"},null,8,Z)])]),_:2},1032,["to"]),t("div",tt,[_(u,{to:`/productinfo/${e.id}`},{default:w(()=>[t("h3",st,d(e.title),1)]),_:2},1032,["to"]),s.isArtistBlock?l("",!0):(i(),r("div",et,[t("p",ot,"NT$ "+d(e.price.toLocaleString()),1),_(m)]))])]))),128))])])])):l("",!0)],64)}const ht=y(U,[["render",it]]);export{ht as default};
