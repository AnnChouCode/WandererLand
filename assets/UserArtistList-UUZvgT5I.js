import{u as _}from"./userProductStore-FmHkV_A1.js";import{_ as g,O as y,o as n,c as r,b as t,q as c,F as u,k as h,t as b,f as m,m as x,a as A,r as v,d as w,w as k}from"./index-SuvShJ5P.js";import"./sweetalert2.all-6q_o9MV5.js";const S={data(){return{filterRules:{},mobileNav:null}},props:["allArtists","groupList"],methods:{filterShow(l){if(l){const[s,d]=l;this.filterRules[s]=d;const a=Object.entries(this.filterRules).map(i=>i.join("=")).join("&");this.$router.push(`/artistList?${a}`);return}this.filterRules={},this.$router.push("/artistList")},openMobileNav(){this.mobileNav.show()},closeMobileNav(){this.mobileNav.hide()}},mounted(){this.mobileNav=new y(this.$refs.mobileNav);const l=window.location.href.split("?")[1];if(!l){this.filterRules={};return}l.split("&").forEach(s=>{const d=s.split("=");this.filterRules[d[0]]=d[1]})}},C={class:"fixed-top z-1 bg-tertiary nav-product-filter w-100"},N={class:"container"},$={class:"d-none d-lg-flex align-items-center"},L={class:"d-none d-lg-flex align-items-center list-unstyled"},F={class:"dropdown"},j=t("button",{type:"button",class:"btn d-flex align-items-center px-5 py-4 text-default fs-info border-0",id:"btnProductSort","data-bs-toggle":"dropdown","aria-expanded":"false"},[t("span",{class:"me-3"},"排序"),t("i",{class:"bi bi-chevron-down"})],-1),R={class:"dropdown-menu p-0 rounded-0","aria-labelledby":"btnProductSort"},Z={class:"dropdown"},G=t("button",{type:"button",class:"btn d-flex align-items-center px-5 py-4 text-default fs-info border-0",id:"btnGroupFilter","data-bs-toggle":"dropdown","aria-expanded":"false"},[t("span",{class:"me-3"},"題材"),t("i",{class:"bi bi-chevron-down"})],-1),q={class:"dropdown-menu p-0 overflow-y-scroll rounded-0","aria-labelledby":"btnGroupFilter",style:{"max-height":"400px"}},P=["onClick"],O={class:"dropdown"},T=t("button",{type:"button",class:"btn d-flex align-items-center px-5 py-4 text-default fs-info border-0",id:"btnArtistFilter","data-bs-toggle":"dropdown","aria-expanded":"false"},[t("span",{class:"me-3"},"藝術家"),t("i",{class:"bi bi-chevron-down"})],-1),E={class:"dropdown-menu p-0 overflow-y-scroll rounded-0","aria-labelledby":"btnArtistFilter",style:{"max-height":"400px"}},M=["onClick"],B={class:"d-flex d-lg-none align-items-center justify-content-between"},D={class:"d-flex align-items-center justify-content-between list-unstyled"},U={class:"dropdown"},V=t("button",{type:"button",class:"btn d-flex align-items-center px-5 py-4 text-default fs-info border-0",id:"btnProductSort","data-bs-toggle":"dropdown","aria-expanded":"false"},[t("span",{class:"me-3"},"排序"),t("i",{class:"bi bi-chevron-down"})],-1),z={class:"dropdown-menu p-0 overflow-hidden","aria-labelledby":"btnProductSort"},I=t("span",{class:"me-3"},"篩選",-1),W=t("i",{class:"bi bi-chevron-down"},null,-1),H=[I,W],J={class:"offcanvas offcanvas-start bg-primary",tabindex:"-1",id:"offcanvasNav","aria-labelledby":"offcanvasNavLabel",ref:"mobileNav"},K=t("div",{class:"offcanvas-header"},[t("h5",{class:"offcanvas-title",id:"offcanvasNavLabel"},"WANDERER LAND"),t("button",{type:"button",class:"btn-close text-reset","data-bs-dismiss":"offcanvas","aria-label":"Close"})],-1),Q={class:"offcanvas-body"},X={class:"d-flex flex-column gap-3 gap-sm-5 list-unstyled accordion accordion-flush",id:"accordionFlushFilter"},Y={class:"accordion-item bg-transparent"},tt=t("h2",{class:"accordion-header"},[t("button",{class:"accordion-button collapsed px-0 text-default bg-transparent",type:"button","data-bs-toggle":"collapse","data-bs-target":"#flush-collapseGroup","aria-expanded":"false","aria-controls":"flush-collapseGroup"}," 題材 ")],-1),et={id:"flush-collapseGroup",class:"accordion-collapse collapse","data-bs-parent":"#accordionFlushGroup"},st={class:"accordion-body px-0 py-0"},ot={class:"list-unstyled","aria-labelledby":"btnGroupFilter"},lt=["onClick"],it={class:"accordion-item bg-transparent"},nt=t("h2",{class:"accordion-header"},[t("button",{class:"accordion-button collapsed px-0 text-default bg-transparent",type:"button","data-bs-toggle":"collapse","data-bs-target":"#flush-collapseArtist","aria-expanded":"false","aria-controls":"flush-collapseArtist"}," 藝術家 ")],-1),rt={id:"flush-collapseArtist",class:"accordion-collapse collapse","data-bs-parent":"#accordionFlushArtist"},at={class:"accordion-body px-0 py-0"},dt={class:"list-unstyled","aria-labelledby":"btnArtistFilter"},ct=["onClick"];function ut(l,s,d,a,i,o){return n(),r(u,null,[t("nav",C,[t("div",N,[t("div",$,[t("ul",L,[t("li",null,[t("div",F,[j,t("ul",R,[t("li",null,[t("a",{class:"dropdown-item p-3",href:"#",onClick:s[0]||(s[0]=c(e=>o.filterShow(["sort","newest"]),["prevent"]))},"最新藝術家")]),t("li",null,[t("a",{class:"dropdown-item p-3",href:"#",onClick:s[1]||(s[1]=c(e=>o.filterShow(["sort","nameAToZ"]),["prevent"]))},"姓名：A - Z")]),t("li",null,[t("a",{class:"dropdown-item p-3",href:"#",onClick:s[2]||(s[2]=c(e=>o.filterShow(["sort","nameZToA"]),["prevent"]))},"姓名：Z - A")])])])]),t("li",null,[t("div",Z,[G,t("ul",q,[(n(!0),r(u,null,h(d.groupList.artistGroupList,e=>(n(),r("li",{key:e},[t("a",{class:"dropdown-item p-3",href:"#",onClick:c(f=>o.filterShow(["group",e]),["prevent"])},b(e),9,P)]))),128))])])]),t("li",null,[t("div",O,[T,t("ul",E,[(n(!0),r(u,null,h(d.allArtists,e=>(n(),r("li",{key:e.id},[t("a",{class:"dropdown-item p-3",href:"#",onClick:c(f=>o.filterShow(["title",e.title]),["prevent"])},b(e.title),9,M)]))),128))])])])]),Object.keys(i.filterRules).length?(n(),r("button",{key:0,class:"btn btn-outline-default rounded-0 fs-info",type:"button",onClick:s[3]||(s[3]=e=>o.filterShow())},"清空篩選")):m("",!0)]),t("div",B,[t("ul",D,[t("li",null,[t("div",U,[V,t("ul",z,[t("li",null,[t("a",{class:"dropdown-item p-3",href:"#",onClick:s[4]||(s[4]=c(e=>o.filterShow(["sort","newest"]),["prevent"]))},"最新藝術家")]),t("li",null,[t("a",{class:"dropdown-item p-3",href:"#",onClick:s[5]||(s[5]=c(e=>o.filterShow(["sort","nameAToZ"]),["prevent"]))},"姓名：A - Z")]),t("li",null,[t("a",{class:"dropdown-item p-3",href:"#",onClick:s[6]||(s[6]=c(e=>o.filterShow(["sort","nameZToA"]),["prevent"]))},"姓名：Z - A")])])])]),t("li",null,[t("button",{type:"button",class:"btn d-flex align-items-center px-5 py-4 text-default fs-info border-0","aria-controls":"offcanvasFilterNav",onClick:s[7]||(s[7]=(...e)=>o.openMobileNav&&o.openMobileNav(...e))},H)])]),Object.keys(i.filterRules).length?(n(),r("button",{key:0,class:"btn btn-outline-default rounded-0 fs-info",type:"button",onClick:s[8]||(s[8]=e=>o.filterShow())},"清空篩選")):m("",!0)])])]),t("div",J,[K,t("div",Q,[t("ul",X,[t("li",Y,[tt,t("div",et,[t("div",st,[t("ul",ot,[(n(!0),r(u,null,h(d.groupList.artistGroupList,e=>(n(),r("li",{key:e},[t("a",{class:"d-block p-3 text-info",href:"#",onClick:c(f=>o.filterShow(["group",e]),["prevent"])},b(e),9,lt)]))),128))])])])]),t("li",it,[nt,t("div",rt,[t("div",at,[t("ul",dt,[(n(!0),r(u,null,h(d.allArtists,e=>(n(),r("li",{key:e.id},[t("a",{class:"d-block p-3 text-info",href:"#",onClick:c(f=>o.filterShow(["title",e.title]),["prevent"])},b(e.title),9,ct)]))),128))])])])])])])],512)],64)}const pt=g(S,[["render",ut]]),ft={data(){return{artistList:[]}},methods:{...x(_,["getAllProducts"]),filterShow(l){const{sort:s,...d}=l;let a=this.sortNewest.newestArtist;Object.entries(d).forEach(([i,o])=>{o===""||o===void 0||(a=a.filter(e=>e[i]===o))}),s==="newest"?a=a.sort((i,o)=>o.create_at-i.create_at):s==="nameAToZ"?a=a.sort((i,o)=>i.title.localeCompare(o.title)):s==="nameZToA"&&(a=a.sort((i,o)=>o.title.localeCompare(i.title))),this.artistList=a}},watch:{$route(){const l={sort:this.$route.query.sort,title:this.$route.query.title,group:this.$route.query.group};this.filterShow(l)}},async mounted(){await this.getAllProducts();const l={sort:this.$route.query.sort,artist:this.$route.query.artist,group:this.$route.query.group};this.filterShow(l)},computed:{...A(_,["allArtists","sortNewest","groupList"])},components:{userNavArtistFilter:pt}},ht={class:"container user-product-page-container flex-grow-1"},bt=t("h2",{class:"mb-7 mb-md-8 h1 lh-sm title-letter-spacing text-center h1"},"藝術家",-1),_t={class:"row g-3 g-md-8"},mt={class:"position-relative d-flex justify-content-center align-items-center ratio-1x1 overflow-hidden product-img rounded-circle"},vt=["src","alt"],wt=["src"],gt={class:"py-3 px-0 px-md-4"},yt={class:"mb-2 fs-info fs-md-5 fw-bold text-default text-center"};function xt(l,s,d,a,i,o){const e=v("userNavArtistFilter"),f=v("router-link");return n(),r(u,null,[w(e,{allArtists:l.allArtists,groupList:l.groupList,onFilterShow:o.filterShow},null,8,["allArtists","groupList","onFilterShow"]),t("div",ht,[bt,t("div",_t,[(n(!0),r(u,null,h(i.artistList,p=>(n(),r("div",{class:"col-6 col-md-4",key:p.id},[w(f,{to:`artistInfo/${p.id}`},{default:k(()=>[t("div",mt,[t("img",{src:p.imageUrl,alt:p.title,class:"object-fit-contain w-100 h-100 product-img-up"},null,8,vt),t("img",{src:p.imagesUrl[0],alt:"item.title",class:"position-absolute z-n1 object-fit-contain w-100 h-100 product-img-down"},null,8,wt)]),t("div",gt,[t("h3",yt,b(p.title),1)])]),_:2},1032,["to"])]))),128))])])],64)}const Ct=g(ft,[["render",xt]]);export{Ct as default};
