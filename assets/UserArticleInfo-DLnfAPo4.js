import{S,a as k}from"./navigation-_l5bcTTm.js";import{_ as A,A as I,P as C,N as E,r as m,o as i,c as n,d as t,e as l,w as r,t as c,f as b,F as p,k as v,g,h as P,p as T,l as V}from"./index-1INmv1Cf.js";import{b as B}from"./btnFavorite-LoPxVRwn.js";var D={VITE_API:"https://vue3-course-api.hexschool.io/v2",VITE_PATH:"wandererland",BASE_URL:"/WandererLand/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_API:L,VITE_PATH:N}=D,j={data(){return{article:{},articleContent:"",modules:[I,C,E]}},methods:{getCurrentArticle(o){const d=`${L}/api/${N}/article/${o}`;return this.axios.get(d).then(a=>{const _=a.data.article;this.article=_,this.handleArticleContent()}).catch(a=>console.log(a.response.data.message))},handleArticleContent(){const o=this.article.content,d=[["<h2>",'<h2 class="mt-8 mb-4 fs-3 fs-md-2">'],["<h3>",'<h3 class="mt-5 mb-3 fs-5 fs-md-3">'],["<h4>",'<h4 class="my-3 fs-6 fs-md-5">'],["<p>",'<p class="mb-3 fs-info fs-md-6">']];this.articleContent=d.reduce((a,[_,e])=>a.replaceAll(_,e),o)}},mounted(){const o=this.$route.params.id;this.getCurrentArticle(o)},components:{Swiper:S,SwiperSlide:k,btnFavorite:B}},f=o=>(T("data-v-611c92b6"),o=o(),V(),o),F={key:0,class:"container user-page-container"},U={class:"row"},H={class:"col-12 col-md-8 mx-auto"},z={class:"position-relative mb-5 mb-md-8"},M={class:"position-relative overflow-hidden"},O=["src"],R=f(()=>t("div",{class:"z-1 swiper-button-next translate-middle-y"},[t("i",{class:"bi bi-arrow-right-circle text-warning fs-1"})],-1)),W=f(()=>t("div",{class:"z-1 swiper-button-prev translate-middle-y"},[t("i",{class:"bi bi-arrow-left-circle text-warning fs-1"})],-1)),$={class:"mb-7 mb-md-8 text-center"},q={class:"mb-4 h1 lh-sm title-letter-spacing h1"},G={class:"text-info"},J=f(()=>t("span",{class:"px-2 fw-bold"},"‧",-1)),K=["innerHTML"],Q={class:"d-flex gap-1 mb-0 flex-wrap"},X={key:1,class:"container"},Y={class:"py-7 py-md-9"},Z={class:"d-flex justify-content-between align-items-center mb-7 mb-md-8"},tt=f(()=>t("h2",{class:"fs-2 fs-md-1"},"關聯作品",-1)),et={class:"row g-3 g-md-8"},st={class:"position-relative d-flex justify-content-center align-items-center ratio-1x1 overflow-hidden product-img"},ot=["src","alt"],it=["src"],nt={class:"py-3 px-0 px-md-4"},at={class:"mb-2 fs-info fs-md-5 fw-bold text-default"},ct={key:0,class:"d-flex justify-content-between align-items-center"},lt={class:"fs-info fs-md-6 text-info"};function rt(o,d,a,_,e,dt){const w=m("SwiperSlide"),x=m("Swiper"),u=m("router-link"),y=m("btnFavorite");return i(),n(p,null,[e.article?(i(),n("div",F,[t("div",U,[t("div",H,[t("div",z,[l(x,{slidesPerView:1,spaceBetween:24,pagination:{clickable:!0},autoplay:{delay:3e3,disableOnInteraction:!1},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},modules:e.modules},{default:r(()=>[(i(!0),n(p,null,v(e.article.imagesUrl,(s,h)=>(i(),P(w,{key:h},{default:r(()=>[t("div",M,[t("img",{src:s,alt:"news",class:"object-fit-contain w-100 h-100"},null,8,O)])]),_:2},1024))),128)),R,W]),_:1},8,["navigation","modules"])]),t("div",$,[t("h2",q,c(e.article.title),1),t("p",G,[b(c(new Date(e.article.create_at*1e3).toLocaleDateString())+" ",1),J,b(" "+c(e.article.author),1)])]),t("div",{innerHTML:e.articleContent,class:"mb-7 mb-md-8"},null,8,K),t("div",Q,[(i(!0),n(p,null,v(e.article.tag,(s,h)=>(i(),n("div",{class:"px-3 py-1 bg-light rounded-pill fs-info text-info",value:"item",key:h},c(s),1))),128))])])])])):g("",!0),e.article.relatedProduct?(i(),n("div",X,[t("div",Y,[t("div",Z,[tt,l(u,{to:"/productlist",class:"text-default border-bottom border-default fw-bold fs-info fs-md-6"},{default:r(()=>[b("瀏覽更多")]),_:1})]),t("div",et,[(i(!0),n(p,null,v(e.article.relatedProduct,s=>(i(),n("div",{class:"col-6 col-md-4",key:s.id},[l(u,{to:`/productinfo/${s.id}`},{default:r(()=>[t("div",st,[t("img",{src:s.imageUrl,alt:s.title,class:"object-fit-contain w-100 h-100 product-img-up"},null,8,ot),t("img",{src:s.imagesUrl[0],alt:"item.title",class:"position-absolute z-n1 object-fit-contain w-100 h-100 product-img-down"},null,8,it)])]),_:2},1032,["to"]),t("div",nt,[l(u,{to:`/productinfo/${s.id}`},{default:r(()=>[t("h3",at,c(s.title),1)]),_:2},1032,["to"]),o.isArtistBlock?g("",!0):(i(),n("div",ct,[t("p",lt,"NT$ "+c(s.price.toLocaleString()),1),l(y)]))])]))),128))])])])):g("",!0)],64)}const ft=A(j,[["render",rt],["__scopeId","data-v-611c92b6"]]);export{ft as default};
