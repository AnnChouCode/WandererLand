import{u as v}from"./userProductStore-H8ucz6mm.js";import{_ as y,O as x,o as n,c as i,b as t,n as c,l as u,F as f,d as b,t as h,h as _,m as A,a as k,r as w,e as g}from"./index-mZagQebe.js";import{p as C}from"./productCard-0y1rxesW.js";import"./sweetalert2.all-bwkFKaLk.js";import"./btnFavorite-sWnb6U23.js";import"./favoriteStore-dq2DO4e3.js";import"./statusStore-kJj8mvmm.js";const S={data(){return{filterRules:{},mobileNav:null}},props:["allArtists","groupList"],methods:{filterShow(r){if(r){const[s,d]=r;this.filterRules[s]=d;const a=Object.entries(this.filterRules).map(l=>l.join("=")).join("&");this.$router.push(`/artistList?${a}`);return}this.filterRules={},this.$router.push("/artistList")},openMobileNav(){this.mobileNav.show()},closeMobileNav(){this.mobileNav.hide()}},mounted(){this.mobileNav=new x(this.$refs.mobileNav);const r=window.location.href.split("?")[1];if(!r){this.filterRules={};return}r.split("&").forEach(s=>{const d=s.split("=");this.filterRules[d[0]]=d[1]})}},N={class:"fixed-top z-1 bg-tertiary nav-product-filter w-100"},R={class:"container"},F={class:"d-none d-lg-flex align-items-center"},L={class:"d-none d-lg-flex align-items-center list-unstyled"},Z={class:"dropdown"},T=t("button",{type:"button",class:"btn d-flex align-items-center px-5 py-4 text-default fs-info border-0",id:"btnProductSort","data-bs-toggle":"dropdown","aria-expanded":"false"},[t("span",{class:"me-3"},"排序"),t("i",{class:"bi bi-chevron-down"})],-1),j={class:"dropdown-menu p-0 rounded-0","aria-labelledby":"btnProductSort"},G={class:"dropdown"},P=t("button",{type:"button",class:"btn d-flex align-items-center px-5 py-4 text-default fs-info border-0",id:"btnGroupFilter","data-bs-toggle":"dropdown","aria-expanded":"false"},[t("span",{class:"me-3"},"題材"),t("i",{class:"bi bi-chevron-down"})],-1),O={class:"dropdown-menu p-0 overflow-y-scroll rounded-0 dropdown-scrollbar","aria-labelledby":"btnGroupFilter"},q=["onClick"],E={class:"dropdown"},M=t("button",{type:"button",class:"btn d-flex align-items-center px-5 py-4 text-default fs-info border-0",id:"btnArtistFilter","data-bs-toggle":"dropdown","aria-expanded":"false"},[t("span",{class:"me-3"},"藝術家"),t("i",{class:"bi bi-chevron-down"})],-1),$={class:"dropdown-menu p-0 overflow-y-scroll rounded-0 dropdown-scrollbar","aria-labelledby":"btnArtistFilter"},B=["onClick"],D={class:"d-flex d-lg-none align-items-center justify-content-between"},V={class:"d-flex align-items-center justify-content-between list-unstyled"},z={class:"dropdown"},I=t("button",{type:"button",class:"btn d-flex align-items-center px-5 py-4 text-default fs-info border-0",id:"btnProductSort","data-bs-toggle":"dropdown","aria-expanded":"false"},[t("span",{class:"me-3"},"排序"),t("i",{class:"bi bi-chevron-down"})],-1),U={class:"dropdown-menu p-0 overflow-hidden","aria-labelledby":"btnProductSort"},W=t("span",{class:"me-3"},"篩選",-1),H=t("i",{class:"bi bi-chevron-down"},null,-1),J=[W,H],K={class:"offcanvas offcanvas-start bg-primary",tabindex:"-1",id:"offcanvasNav","aria-labelledby":"offcanvasNavLabel",ref:"mobileNav"},Q=t("div",{class:"offcanvas-header"},[t("h5",{class:"offcanvas-title",id:"offcanvasNavLabel"},"WANDERER LAND"),t("button",{type:"button",class:"btn-close text-reset","data-bs-dismiss":"offcanvas","aria-label":"Close"})],-1),X={class:"offcanvas-body"},Y={class:"d-flex flex-column gap-3 gap-sm-5 list-unstyled accordion accordion-flush",id:"accordionFlushFilter"},tt={class:"accordion-item bg-transparent"},et=t("h2",{class:"accordion-header"},[t("button",{class:"accordion-button collapsed px-0 text-default bg-transparent",type:"button","data-bs-toggle":"collapse","data-bs-target":"#flush-collapseGroup","aria-expanded":"false","aria-controls":"flush-collapseGroup"}," 題材 ")],-1),st={id:"flush-collapseGroup",class:"accordion-collapse collapse","data-bs-parent":"#accordionFlushGroup"},ot={class:"accordion-body px-0 py-0"},lt={class:"list-unstyled","aria-labelledby":"btnGroupFilter"},rt=["onClick"],nt={class:"accordion-item bg-transparent"},it=t("h2",{class:"accordion-header"},[t("button",{class:"accordion-button collapsed px-0 text-default bg-transparent",type:"button","data-bs-toggle":"collapse","data-bs-target":"#flush-collapseArtist","aria-expanded":"false","aria-controls":"flush-collapseArtist"}," 藝術家 ")],-1),at={id:"flush-collapseArtist",class:"accordion-collapse collapse","data-bs-parent":"#accordionFlushArtist"},dt={class:"accordion-body px-0 py-0"},ct={class:"list-unstyled","aria-labelledby":"btnArtistFilter"},ut=["onClick"],ft={class:"position-absolute start-0 bottom-0 bg-primary p-4 w-100"};function pt(r,s,d,a,l,o){return n(),i(f,null,[t("nav",N,[t("div",R,[t("div",F,[t("ul",L,[t("li",null,[t("div",Z,[T,t("ul",j,[t("li",null,[t("a",{class:c(["dropdown-item p-3",l.filterRules.sort==="newest"?"bg-secondary":""]),href:"#",onClick:s[0]||(s[0]=u(e=>o.filterShow(["sort","newest"]),["prevent"]))},"最新藝術家",2)]),t("li",null,[t("a",{class:c(["dropdown-item p-3",l.filterRules.sort==="nameAToZ"?"bg-secondary":""]),href:"#",onClick:s[1]||(s[1]=u(e=>o.filterShow(["sort","nameAToZ"]),["prevent"]))},"姓名：A - Z",2)]),t("li",null,[t("a",{class:c(["dropdown-item p-3",l.filterRules.sort==="nameZToA"?"bg-secondary":""]),href:"#",onClick:s[2]||(s[2]=u(e=>o.filterShow(["sort","nameZToA"]),["prevent"]))},"姓名：Z - A",2)])])])]),t("li",null,[t("div",G,[P,t("ul",O,[(n(!0),i(f,null,b(d.groupList.artistGroupList,e=>(n(),i("li",{key:e},[t("a",{class:c(["dropdown-item p-3",l.filterRules.group===e?"bg-secondary":""]),href:"#",onClick:u(p=>o.filterShow(["group",e]),["prevent"])},h(e),11,q)]))),128))])])]),t("li",null,[t("div",E,[M,t("ul",$,[(n(!0),i(f,null,b(d.allArtists,e=>(n(),i("li",{key:e.id},[t("a",{class:c(["dropdown-item p-3",l.filterRules.title===e.title?"bg-secondary":""]),href:"#",onClick:u(p=>o.filterShow(["title",e.title]),["prevent"])},h(e.title),11,B)]))),128))])])])]),Object.keys(l.filterRules).length?(n(),i("button",{key:0,class:"btn btn-outline-default rounded-0 fs-info",type:"button",onClick:s[3]||(s[3]=e=>o.filterShow())},"清空篩選")):_("",!0)]),t("div",D,[t("ul",V,[t("li",null,[t("div",z,[I,t("ul",U,[t("li",null,[t("a",{class:c(["dropdown-item p-3",l.filterRules.sort==="newest"?"bg-secondary":""]),href:"#",onClick:s[4]||(s[4]=u(e=>o.filterShow(["sort","newest"]),["prevent"]))},"最新藝術家",2)]),t("li",null,[t("a",{class:c(["dropdown-item p-3",l.filterRules.sort==="nameAToZ"?"bg-secondary":""]),href:"#",onClick:s[5]||(s[5]=u(e=>o.filterShow(["sort","nameAToZ"]),["prevent"]))},"姓名：A - Z",2)]),t("li",null,[t("a",{class:c(["dropdown-item p-3",l.filterRules.sort==="nameZToA"?"bg-secondary":""]),href:"#",onClick:s[6]||(s[6]=u(e=>o.filterShow(["sort","nameZToA"]),["prevent"]))},"姓名：Z - A",2)])])])]),t("li",null,[t("button",{type:"button",class:"btn d-flex align-items-center px-5 py-4 text-default fs-info border-0","aria-controls":"offcanvasFilterNav",onClick:s[7]||(s[7]=(...e)=>o.openMobileNav&&o.openMobileNav(...e))},J)])]),Object.keys(l.filterRules).length?(n(),i("button",{key:0,class:"btn btn-outline-default rounded-0 fs-info",type:"button",onClick:s[8]||(s[8]=e=>o.filterShow())},"清空篩選")):_("",!0)])])]),t("div",K,[Q,t("div",X,[t("ul",Y,[t("li",tt,[et,t("div",st,[t("div",ot,[t("ul",lt,[(n(!0),i(f,null,b(d.groupList.artistGroupList,e=>(n(),i("li",{key:e},[t("a",{class:c(["d-block p-3 text-info",l.filterRules.group===e?"fw-bold text-decoration-underline":""]),href:"#",onClick:u(p=>o.filterShow(["group",e]),["prevent"]),"data-bs-dismiss":"offcanvas"},h(e),11,rt)]))),128))])])])]),t("li",nt,[it,t("div",at,[t("div",dt,[t("ul",ct,[(n(!0),i(f,null,b(d.allArtists,e=>(n(),i("li",{key:e.id},[t("a",{class:c(["d-block p-3 text-info",l.filterRules.title===e.title?"fw-bold text-decoration-underline":""]),href:"#",onClick:u(p=>o.filterShow(["title",e.title]),["prevent"]),"data-bs-dismiss":"offcanvas"},h(e.title),11,ut)]))),128))])])])])])]),t("div",ft,[Object.keys(l.filterRules).length?(n(),i("button",{key:0,class:"btn btn-outline-default rounded-0 fs-info w-100",type:"button",onClick:s[9]||(s[9]=e=>o.filterShow())},"清空篩選")):_("",!0)])],512)],64)}const bt=y(S,[["render",pt]]),ht={data(){return{artistList:[]}},methods:{...A(v,["getAllProducts"]),filterShow(r){const{sort:s,...d}=r;let a=this.sortNewest.newestArtist;Object.entries(d).forEach(([l,o])=>{o===""||o===void 0||(a=a.filter(e=>e[l]===o))}),s==="newest"?a=a.sort((l,o)=>o.create_at-l.create_at):s==="nameAToZ"?a=a.sort((l,o)=>l.title.localeCompare(o.title)):s==="nameZToA"&&(a=a.sort((l,o)=>o.title.localeCompare(l.title))),this.artistList=a}},watch:{$route(){const r={sort:this.$route.query.sort,title:this.$route.query.title,group:this.$route.query.group};this.filterShow(r)}},async mounted(){await this.getAllProducts();const r={sort:this.$route.query.sort,artist:this.$route.query.artist,group:this.$route.query.group};this.filterShow(r)},computed:{...k(v,["allArtists","sortNewest","groupList"])},components:{userNavArtistFilter:bt,productCard:C}},mt={class:"container user-product-page-container flex-grow-1"},_t=t("h2",{class:"mb-7 mb-md-8 h1 lh-sm title-letter-spacing text-center h1"},"藝術家",-1),vt={class:"row g-3 g-md-8"};function wt(r,s,d,a,l,o){const e=w("userNavArtistFilter"),p=w("productCard");return n(),i(f,null,[g(e,{allArtists:r.allArtists,groupList:r.groupList,onFilterShow:o.filterShow},null,8,["allArtists","groupList","onFilterShow"]),t("div",mt,[_t,t("div",vt,[(n(!0),i(f,null,b(l.artistList,m=>(n(),i("div",{class:"col-6 col-md-4",key:m.id},[g(p,{item:m,linkTo:`/artistInfo/${m.id}`,showPrice:!1,showFavorite:!1,shape:"rounded-circle",titlePosition:"text-center"},null,8,["item","linkTo"])]))),128))])])],64)}const Nt=y(ht,[["render",wt]]);export{Nt as default};
