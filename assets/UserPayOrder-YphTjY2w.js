import{_ as x,r as n,o as i,c as d,b as e,t as l,h as v,e as a,f as c,F as B,n as g}from"./index-gvCSlrmt.js";var w={VITE_API:"https://vue3-course-api.hexschool.io/v2",VITE_PATH:"wandererland",BASE_URL:"/WandererLand/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_API:m,VITE_PATH:f}=w,I={data(){return{order:{},payment:""}},methods:{getOrderInfo(o){const s=`${m}/api/${f}/order/${o}`;this.axios.get(s).then(t=>{this.order=t.data.order}).catch(t=>{this.swalInfoCheckWithBootstrapButtons.fire({icon:"error",text:t.response.data.message,confirmButtonText:"確認"})})},payOrder(){const o=this.$loading.show(),s=`${m}/api/${f}/pay/${this.order.id}`;this.axios.post(s).then(t=>{this.swalInfoCheckWithBootstrapButtons.fire({title:t.data.message,confirmButtonText:"確認"}),this.$refs.form.resetForm(),this.$router.push(`/order/orderhistory/${this.order.id}`)}).catch(t=>{this.swalInfoCheckWithBootstrapButtons.fire({icon:"error",text:t.response.data.message,confirmButtonText:"確認"})}).finally(()=>{o.hide()})}},mounted(){const o=this.$route.params.id;this.getOrderInfo(o),this.swalInfoCheckWithBootstrapButtons=this.$swal.mixin({customClass:{confirmButton:"m-1 btn btn-default"},buttonsStyling:!1})}},T=e("p",{class:"mb-7 fs-info text-info"},"※ 您的訂單將在付款後開始訂製，付款後，從開始製作到寄出商品為 14 個工作天。",-1),V={class:"mb-7 py-2 py-md-4 border-top border-bottom border-default"},$={class:"d-flex justify-content-between mb-2 mb-md-4"},C=e("p",null,"訂單編號",-1),k={key:0,class:"d-flex justify-content-between"},E=e("p",null,"訂單總額",-1),S={class:"mb-4 mb-md-7 form-floating w-100"},A=e("option",{value:""},"付款方式",-1),O=e("option",{value:"credit_card"},"信用卡付款",-1),P=e("option",{value:"ATM"},"ATM 付款",-1),W=e("label",{for:"payment",class:"form-label has-required"},"請選擇付款方式",-1),D=e("button",{class:"py-2 py-md-3 px-6 px-md-9 btn btn-default fw-bold rounded-0 w-100 w-md-auto",type:"submit"}," 結帳付款 ",-1);function N(o,s,t,F,r,u){const p=n("v-field"),_=n("error-message"),h=n("v-form");return i(),d(B,null,[T,e("div",V,[e("div",$,[C,e("p",null,l(r.order.id),1)]),r.order.total?(i(),d("div",k,[E,e("p",null,"NT$ "+l(r.order.total.toLocaleString()),1)])):v("",!0)]),a(h,{ref:"form",class:"d-flex flex-column align-items-end",onSubmit:u.payOrder},{default:c(({errors:b})=>[e("div",S,[a(p,{id:"payment",name:"付款方式",class:g(["form-select border-info rounded-0",{"is-invalid":b.付款方式}]),placeholder:"請選擇付款方式",rules:"required",modelValue:r.payment,"onUpdate:modelValue":s[0]||(s[0]=y=>r.payment=y),as:"select"},{default:c(()=>[A,O,P]),_:2},1032,["class","modelValue"]),a(_,{name:"付款方式",class:"invalid-feedback"}),W]),D]),_:1},8,["onSubmit"])],64)}const M=x(I,[["render",N]]);export{M as default};
