import{q as n,s as u,u as p}from"./index-O9e188hW.js";import{s as l}from"./sweetalert2.all-oshATBYT.js";var d={VITE_API:"https://vue3-course-api.hexschool.io/v2",VITE_PATH:"wandererland",BASE_URL:"/WandererLand/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const S=n.useLoading(),{VITE_API:m,VITE_PATH:L}=d,P=u("allProductsStore",{state:()=>({allProducts:[],allArtists:[],productSizeList:[],filter:[]}),actions:{getAllProducts(){const a=S.show(),e=`${m}/api/${L}/products/all`;return p.get(e).then(t=>{const s=t.data.products;return this.allProducts=s.filter(r=>r.category==="products"),this.allArtists=s.filter(r=>r.category==="artists").sort((r,i)=>r.title.localeCompare(i.title)),s}).catch(t=>{l.fire({icon:"error",text:t.response.data.message})}).finally(()=>{a.hide()})},getSizeList(){const e=[...new Set(this.allProducts.map(t=>t.size))].sort((t,s)=>t[0]-s[0]);this.productSizeList=e}},getters:{sortNewest:({allProducts:a,allArtists:e})=>{const t=JSON.parse(JSON.stringify(e)),s=JSON.parse(JSON.stringify(a)),r=t.sort((o,c)=>c.create_at-o.create_at),i=s.sort((o,c)=>c.create_at-o.create_at);return{newestArtist:r,newestProduct:i}},groupList:({allProducts:a,allArtists:e})=>{const s=[...new Set(a.map(o=>o.group))],i=[...new Set(e.map(o=>o.group))];return{productGroupList:s,artistGroupList:i}}}});export{P as u};
