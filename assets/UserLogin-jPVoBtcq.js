import{_,r as l,o as h,c as b,b as s,d as t,w,K as p}from"./index-yn18Zgvv.js";var v={VITE_API:"https://vue3-course-api.hexschool.io/v2",VITE_PATH:"wandererland",BASE_URL:"/WandererLand/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_API:x}=v,g={data(){return{user:{username:"",password:""}}},methods:{login(){const d=`${x}/admin/signin`,{username:o,password:i}=this.user,m={username:o,password:i};this.axios.post(d,m).then(e=>{const{token:a,expired:n}=e.data;document.cookie=`user = ${a}; expires = ${new Date(n)}`,this.$swal.fire({title:"登入成功",confirmButtonColor:"#333333",confirmButtonText:"確認"}).then(()=>{this.$router.push("/admin")})}).catch(e=>{this.swalInfoCheckWithBootstrapButtons.fire({icon:"error",text:e.response.data.message,confirmButtonText:"確認"})})}},mounted(){this.swalInfoCheckWithBootstrapButtons=this.$swal.mixin({customClass:{confirmButton:"m-1 btn btn-default"},buttonsStyling:!1})}},B={class:"flex-grow-1 pt-11 pt-md-12 pb-7 pb-md-9 container"},V=s("h2",{class:"mb-7 mb-md-8 text-center fs-4 fs-md-1"},"登入使用者後台",-1),k={class:"row justify-content-center"},E={class:"col-12 col-md-6"},C={class:"form-floating mb-4 mb-md-7"},I=s("label",{for:"username"},"Email address",-1),P={class:"form-floating mb-4 mb-md-7"},S=s("label",{for:"password"},"Password",-1),T=s("button",{class:"btn btn-lg btn-default w-100 rounded-0",type:"submit"}," 登入 ",-1);function y(d,o,i,m,e,a){const n=l("v-field"),c=l("error-message"),f=l("v-form");return h(),b("div",B,[V,s("div",k,[s("div",E,[t(f,{class:"form-signin",onSubmit:a.login},{default:w(({errors:u})=>[s("div",C,[t(n,{id:"username",name:"email",type:"email",class:p(["form-control border-default rounded-0",{"is-invalid":u.email}]),placeholder:"name@example.com",rules:"email|required",modelValue:e.user.username,"onUpdate:modelValue":o[0]||(o[0]=r=>e.user.username=r)},null,8,["class","modelValue"]),t(c,{name:"email",class:"invalid-feedback"}),I]),s("div",P,[t(n,{id:"userpassword",name:"password",type:"password",class:p(["form-control border-default rounded-0",{"is-invalid":u.password}]),placeholder:"Password",rules:"required",modelValue:e.user.password,"onUpdate:modelValue":o[1]||(o[1]=r=>e.user.password=r)},null,8,["class","modelValue"]),t(c,{name:"password",class:"invalid-feedback"}),S]),T]),_:1},8,["onSubmit"])])])])}const A=_(g,[["render",y]]);export{A as default};
