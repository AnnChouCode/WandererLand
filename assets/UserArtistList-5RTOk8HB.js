import{u as v}from"./userProductStore-pnBUwNpd.js";import{_ as y,O as x,o as i,c as r,b as t,n as c,l as u,F as f,d as h,t as _,h as m,m as A,a as k,r as w,e as g,f as S}from"./index-t2kHoNze.js";import"./sweetalert2.all-6cUR8Siy.js";const C={data(){return{filterRules:{},mobileNav:null}},props:["allArtists","groupList"],methods:{filterShow(n){if(n){const[s,d]=n;this.filterRules[s]=d;const a=Object.entries(this.filterRules).map(l=>l.join("=")).join("&");this.$router.push(`/artistList?${a}`);return}this.filterRules={},this.$router.push("/artistList")},openMobileNav(){this.mobileNav.show()},closeMobileNav(){this.mobileNav.hide()}},mounted(){this.mobileNav=new x(this.$refs.mobileNav);const n=window.location.href.split("?")[1];if(!n){this.filterRules={};return}n.split("&").forEach(s=>{const d=s.split("=");this.filterRules[d[0]]=d[1]})}},N={class:"fixed-top z-1 bg-tertiary nav-product-filter w-100"},R={class:"container"},L={class:"d-none d-lg-flex align-items-center"},F={class:"d-none d-lg-flex align-items-center list-unstyled"},Z={class:"dropdown"},j=t("button",{type:"button",class:"btn d-flex align-items-center px-5 py-4 text-default fs-info border-0",id:"btnProductSort","data-bs-toggle":"dropdown","aria-expanded":"false"},[t("span",{class:"me-3"},"排序"),t("i",{class:"bi bi-chevron-down"})],-1),T={class:"dropdown-menu p-0 rounded-0","aria-labelledby":"btnProductSort"},G={class:"dropdown"},$=t("button",{type:"button",class:"btn d-flex align-items-center px-5 py-4 text-default fs-info border-0",id:"btnGroupFilter","data-bs-toggle":"dropdown","aria-expanded":"false"},[t("span",{class:"me-3"},"題材"),t("i",{class:"bi bi-chevron-down"})],-1),O={class:"dropdown-menu p-0 overflow-y-scroll rounded-0 dropdown-scrollbar","aria-labelledby":"btnGroupFilter"},P=["onClick"],q={class:"dropdown"},E=t("button",{type:"button",class:"btn d-flex align-items-center px-5 py-4 text-default fs-info border-0",id:"btnArtistFilter","data-bs-toggle":"dropdown","aria-expanded":"false"},[t("span",{class:"me-3"},"藝術家"),t("i",{class:"bi bi-chevron-down"})],-1),M={class:"dropdown-menu p-0 overflow-y-scroll rounded-0 dropdown-scrollbar","aria-labelledby":"btnArtistFilter"},z=["onClick"],B={class:"d-flex d-lg-none align-items-center justify-content-between"},D={class:"d-flex align-items-center justify-content-between list-unstyled"},U={class:"dropdown"},V=t("button",{type:"button",class:"btn d-flex align-items-center px-5 py-4 text-default fs-info border-0",id:"btnProductSort","data-bs-toggle":"dropdown","aria-expanded":"false"},[t("span",{class:"me-3"},"排序"),t("i",{class:"bi bi-chevron-down"})],-1),I={class:"dropdown-menu p-0 overflow-hidden","aria-labelledby":"btnProductSort"},W=t("span",{class:"me-3"},"篩選",-1),H=t("i",{class:"bi bi-chevron-down"},null,-1),J=[W,H],K={class:"offcanvas offcanvas-start bg-primary",tabindex:"-1",id:"offcanvasNav","aria-labelledby":"offcanvasNavLabel",ref:"mobileNav"},Q=t("div",{class:"offcanvas-header"},[t("h5",{class:"offcanvas-title",id:"offcanvasNavLabel"},"WANDERER LAND"),t("button",{type:"button",class:"btn-close text-reset","data-bs-dismiss":"offcanvas","aria-label":"Close"})],-1),X={class:"offcanvas-body"},Y={class:"d-flex flex-column gap-3 gap-sm-5 list-unstyled accordion accordion-flush",id:"accordionFlushFilter"},tt={class:"accordion-item bg-transparent"},et=t("h2",{class:"accordion-header"},[t("button",{class:"accordion-button collapsed px-0 text-default bg-transparent",type:"button","data-bs-toggle":"collapse","data-bs-target":"#flush-collapseGroup","aria-expanded":"false","aria-controls":"flush-collapseGroup"}," 題材 ")],-1),st={id:"flush-collapseGroup",class:"accordion-collapse collapse","data-bs-parent":"#accordionFlushGroup"},ot={class:"accordion-body px-0 py-0"},lt={class:"list-unstyled","aria-labelledby":"btnGroupFilter"},nt=["onClick"],it={class:"accordion-item bg-transparent"},rt=t("h2",{class:"accordion-header"},[t("button",{class:"accordion-button collapsed px-0 text-default bg-transparent",type:"button","data-bs-toggle":"collapse","data-bs-target":"#flush-collapseArtist","aria-expanded":"false","aria-controls":"flush-collapseArtist"}," 藝術家 ")],-1),at={id:"flush-collapseArtist",class:"accordion-collapse collapse","data-bs-parent":"#accordionFlushArtist"},dt={class:"accordion-body px-0 py-0"},ct={class:"list-unstyled","aria-labelledby":"btnArtistFilter"},ut=["onClick"],ft={class:"position-absolute start-0 bottom-0 bg-primary p-4 w-100"};function pt(n,s,d,a,l,o){return i(),r(f,null,[t("nav",N,[t("div",R,[t("div",L,[t("ul",F,[t("li",null,[t("div",Z,[j,t("ul",T,[t("li",null,[t("a",{class:c(["dropdown-item p-3",l.filterRules.sort==="newest"?"bg-secondary":""]),href:"#",onClick:s[0]||(s[0]=u(e=>o.filterShow(["sort","newest"]),["prevent"]))},"最新藝術家",2)]),t("li",null,[t("a",{class:c(["dropdown-item p-3",l.filterRules.sort==="nameAToZ"?"bg-secondary":""]),href:"#",onClick:s[1]||(s[1]=u(e=>o.filterShow(["sort","nameAToZ"]),["prevent"]))},"姓名：A - Z",2)]),t("li",null,[t("a",{class:c(["dropdown-item p-3",l.filterRules.sort==="nameZToA"?"bg-secondary":""]),href:"#",onClick:s[2]||(s[2]=u(e=>o.filterShow(["sort","nameZToA"]),["prevent"]))},"姓名：Z - A",2)])])])]),t("li",null,[t("div",G,[$,t("ul",O,[(i(!0),r(f,null,h(d.groupList.artistGroupList,e=>(i(),r("li",{key:e},[t("a",{class:c(["dropdown-item p-3",l.filterRules.group===e?"bg-secondary":""]),href:"#",onClick:u(b=>o.filterShow(["group",e]),["prevent"])},_(e),11,P)]))),128))])])]),t("li",null,[t("div",q,[E,t("ul",M,[(i(!0),r(f,null,h(d.allArtists,e=>(i(),r("li",{key:e.id},[t("a",{class:c(["dropdown-item p-3",l.filterRules.title===e.title?"bg-secondary":""]),href:"#",onClick:u(b=>o.filterShow(["title",e.title]),["prevent"])},_(e.title),11,z)]))),128))])])])]),Object.keys(l.filterRules).length?(i(),r("button",{key:0,class:"btn btn-outline-default rounded-0 fs-info",type:"button",onClick:s[3]||(s[3]=e=>o.filterShow())},"清空篩選")):m("",!0)]),t("div",B,[t("ul",D,[t("li",null,[t("div",U,[V,t("ul",I,[t("li",null,[t("a",{class:c(["dropdown-item p-3",l.filterRules.sort==="newest"?"bg-secondary":""]),href:"#",onClick:s[4]||(s[4]=u(e=>o.filterShow(["sort","newest"]),["prevent"]))},"最新藝術家",2)]),t("li",null,[t("a",{class:c(["dropdown-item p-3",l.filterRules.sort==="nameAToZ"?"bg-secondary":""]),href:"#",onClick:s[5]||(s[5]=u(e=>o.filterShow(["sort","nameAToZ"]),["prevent"]))},"姓名：A - Z",2)]),t("li",null,[t("a",{class:c(["dropdown-item p-3",l.filterRules.sort==="nameZToA"?"bg-secondary":""]),href:"#",onClick:s[6]||(s[6]=u(e=>o.filterShow(["sort","nameZToA"]),["prevent"]))},"姓名：Z - A",2)])])])]),t("li",null,[t("button",{type:"button",class:"btn d-flex align-items-center px-5 py-4 text-default fs-info border-0","aria-controls":"offcanvasFilterNav",onClick:s[7]||(s[7]=(...e)=>o.openMobileNav&&o.openMobileNav(...e))},J)])]),Object.keys(l.filterRules).length?(i(),r("button",{key:0,class:"btn btn-outline-default rounded-0 fs-info",type:"button",onClick:s[8]||(s[8]=e=>o.filterShow())},"清空篩選")):m("",!0)])])]),t("div",K,[Q,t("div",X,[t("ul",Y,[t("li",tt,[et,t("div",st,[t("div",ot,[t("ul",lt,[(i(!0),r(f,null,h(d.groupList.artistGroupList,e=>(i(),r("li",{key:e},[t("a",{class:c(["d-block p-3 text-info",l.filterRules.group===e?"fw-bold text-decoration-underline":""]),href:"#",onClick:u(b=>o.filterShow(["group",e]),["prevent"]),"data-bs-dismiss":"offcanvas"},_(e),11,nt)]))),128))])])])]),t("li",it,[rt,t("div",at,[t("div",dt,[t("ul",ct,[(i(!0),r(f,null,h(d.allArtists,e=>(i(),r("li",{key:e.id},[t("a",{class:c(["d-block p-3 text-info",l.filterRules.title===e.title?"fw-bold text-decoration-underline":""]),href:"#",onClick:u(b=>o.filterShow(["title",e.title]),["prevent"]),"data-bs-dismiss":"offcanvas"},_(e.title),11,ut)]))),128))])])])])])]),t("div",ft,[Object.keys(l.filterRules).length?(i(),r("button",{key:0,class:"btn btn-outline-default rounded-0 fs-info w-100",type:"button",onClick:s[9]||(s[9]=e=>o.filterShow())},"清空篩選")):m("",!0)])],512)],64)}const bt=y(C,[["render",pt]]),ht={data(){return{artistList:[]}},methods:{...A(v,["getAllProducts"]),filterShow(n){const{sort:s,...d}=n;let a=this.sortNewest.newestArtist;Object.entries(d).forEach(([l,o])=>{o===""||o===void 0||(a=a.filter(e=>e[l]===o))}),s==="newest"?a=a.sort((l,o)=>o.create_at-l.create_at):s==="nameAToZ"?a=a.sort((l,o)=>l.title.localeCompare(o.title)):s==="nameZToA"&&(a=a.sort((l,o)=>o.title.localeCompare(l.title))),this.artistList=a}},watch:{$route(){const n={sort:this.$route.query.sort,title:this.$route.query.title,group:this.$route.query.group};this.filterShow(n)}},async mounted(){await this.getAllProducts();const n={sort:this.$route.query.sort,artist:this.$route.query.artist,group:this.$route.query.group};this.filterShow(n)},computed:{...k(v,["allArtists","sortNewest","groupList"])},components:{userNavArtistFilter:bt}},_t={class:"container user-product-page-container flex-grow-1"},mt=t("h2",{class:"mb-7 mb-md-8 h1 lh-sm title-letter-spacing text-center h1"},"藝術家",-1),vt={class:"row g-3 g-md-8"},wt={class:"position-relative d-flex justify-content-center align-items-center ratio-1x1 overflow-hidden product-img rounded-circle"},gt=["src","alt"],yt=["src"],xt={class:"py-3 px-0 px-md-4"},At={class:"mb-2 fs-info fs-md-5 fw-bold text-default text-center"};function kt(n,s,d,a,l,o){const e=w("userNavArtistFilter"),b=w("router-link");return i(),r(f,null,[g(e,{allArtists:n.allArtists,groupList:n.groupList,onFilterShow:o.filterShow},null,8,["allArtists","groupList","onFilterShow"]),t("div",_t,[mt,t("div",vt,[(i(!0),r(f,null,h(l.artistList,p=>(i(),r("div",{class:"col-6 col-md-4",key:p.id},[g(b,{to:`artistInfo/${p.id}`},{default:S(()=>[t("div",wt,[t("img",{src:p.imageUrl,alt:p.title,class:"object-fit-contain w-100 h-100 product-img-up"},null,8,gt),t("img",{src:p.imagesUrl[0],alt:"item.title",class:"position-absolute z-n1 object-fit-contain w-100 h-100 product-img-down"},null,8,yt)]),t("div",xt,[t("h3",At,_(p.title),1)])]),_:2},1032,["to"])]))),128))])])],64)}const Rt=y(ht,[["render",kt]]);export{Rt as default};
