import{l as c,q as l,s as n}from"./index-WtO-PnXn.js";import{s as u}from"./sweetalert2.all-byLcdPpV.js";var p={VITE_API:"https://vue3-course-api.hexschool.io/v2",VITE_PATH:"wandererland",BASE_URL:"/WandererLand/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const d=c.useLoading(),{VITE_API:m,VITE_PATH:L}=p,g=l("allProductsStore",{state:()=>({allProducts:[],allArtists:[],productSizeList:[],filter:[]}),actions:{getAllProducts(){const a=d.show(),r=`${m}/api/${L}/products/all`;return n.get(r).then(s=>{const e=s.data.products;return this.allProducts=e.filter(t=>t.category==="products"),this.allArtists=e.filter(t=>t.category==="artists").sort((t,o)=>t.title.localeCompare(o.title)),console.log(this.allArtists.map(t=>t.title)),e}).catch(s=>{u.fire({icon:"error",text:s.response.data.message})}).finally(()=>{a.hide()})},getSizeList(){const r=[...new Set(this.allProducts.map(s=>s.size))].sort((s,e)=>s[0]-e[0]);this.productSizeList=r}},getters:{sortNewest:({allProducts:a,allArtists:r})=>{const s=r.sort((t,o)=>o.create_at-t.create_at),e=a.sort((t,o)=>o.create_at-t.create_at);return{newestArtist:s,newestProduct:e}},groupList:({allProducts:a,allArtists:r})=>{const e=[...new Set(a.map(i=>i.group))],o=[...new Set(r.map(i=>i.group))];return{productGroupList:e,artistGroupList:o}}}});export{g as u};
