import{_ as y}from"./index-Cb3qeK-m.js";import{a_ as n,aR as i,a5 as d,a6 as t,ba as l,a4 as v,ae as a,bx as m,L as B,aG as g}from"./@vue-Cqo5QHyB.js";import"./pinia-D1tb24LR.js";import"./axios-Di5RpEPX.js";import"./vue-axios-BaogFJPH.js";import"./vue-loading-overlay-CtFUBeEI.js";import"./@ckeditor-RgNY5E4z.js";import"./vue-ZlQZhsMo.js";import"./vue-sweetalert2-BkTfjfvc.js";import"./sweetalert2-Bxbxx77j.js";import"./vee-validate-CasJ09EL.js";import"./@vee-validate-DziBkgPq.js";import"./bootstrap-CKLWTmin.js";import"./@popperjs-WhmJkuoZ.js";/* empty css                        */import"./aos-C_17NL_K.js";import"./vue-router-DOL1scXn.js";var w={VITE_API:"https://vue3-course-api.hexschool.io/v2",VITE_PATH:"wandererland",BASE_URL:"/WandererLand/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_API:c,VITE_PATH:p}=w,I={data(){return{order:{},payment:""}},methods:{getOrderInfo(o){const s=`${c}/api/${p}/order/${o}`;this.axios.get(s).then(e=>{this.order=e.data.order}).catch(e=>{this.swalInfoCheckWithBootstrapButtons.fire({icon:"error",text:e.response.data.message,confirmButtonText:"確認"})})},payOrder(){const o=this.$loading.show(),s=`${c}/api/${p}/pay/${this.order.id}`;this.axios.post(s).then(e=>{this.swalInfoCheckWithBootstrapButtons.fire({title:e.data.message,confirmButtonText:"確認"}),this.$refs.form.resetForm(),this.$router.push(`/order/orderhistory/${this.order.id}`)}).catch(e=>{this.swalInfoCheckWithBootstrapButtons.fire({icon:"error",text:e.response.data.message,confirmButtonText:"確認"})}).finally(()=>{o.hide()})}},mounted(){const o=this.$route.params.id;this.getOrderInfo(o),this.swalInfoCheckWithBootstrapButtons=this.$swal.mixin({customClass:{confirmButton:"m-1 btn btn-default"},buttonsStyling:!1})}},T=t("p",{class:"mb-7 fs-info text-info"},"※ 您的訂單將在付款後開始訂製，付款後，從開始製作到寄出商品為 14 個工作天。",-1),V={class:"mb-7 py-2 py-md-4 border-top border-bottom border-default"},$={class:"d-flex justify-content-between mb-2 mb-md-4"},C=t("p",null,"訂單編號",-1),k={key:0,class:"d-flex justify-content-between"},E=t("p",null,"訂單總額",-1),S={class:"mb-4 mb-md-7 form-floating w-100"},A=t("option",{value:""},"付款方式",-1),O=t("option",{value:"credit_card"},"信用卡付款",-1),P=t("option",{value:"ATM"},"ATM 付款",-1),W=t("label",{for:"payment",class:"form-label has-required"},"請選擇付款方式",-1),D=t("button",{class:"py-2 py-md-3 px-6 px-md-9 btn btn-default fw-bold rounded-0 w-100 w-md-auto",type:"submit"}," 結帳付款 ",-1);function L(o,s,e,N,r,f){const u=n("v-field"),_=n("error-message"),h=n("v-form");return i(),d(B,null,[T,t("div",V,[t("div",$,[C,t("p",null,l(r.order.id),1)]),r.order.total?(i(),d("div",k,[E,t("p",null,"NT$ "+l(r.order.total.toLocaleString()),1)])):v("",!0)]),a(h,{ref:"form",class:"d-flex flex-column align-items-end",onSubmit:f.payOrder},{default:m(({errors:b})=>[t("div",S,[a(u,{id:"payment",name:"付款方式",class:g(["form-select border-info rounded-0",{"is-invalid":b.付款方式}]),placeholder:"請選擇付款方式",rules:"required",modelValue:r.payment,"onUpdate:modelValue":s[0]||(s[0]=x=>r.payment=x),as:"select"},{default:m(()=>[A,O,P]),_:2},1032,["class","modelValue"]),a(_,{name:"付款方式",class:"invalid-feedback"}),W]),D]),_:1},8,["onSubmit"])],64)}const ot=y(I,[["render",L]]);export{ot as default};
