import{u}from"./userProductStore--mDp9O8d.js";import{m as I,a as P}from"./pinia-MbC3oHy8.js";import{B as y}from"./BtnFavorite-C7yoIJzm.js";import{P as k}from"./ProductCard-fpyIxGeI.js";import{a_ as _,aR as a,a5 as c,a6 as t,L as l,aY as h,a4 as d,ba as m,bC as x,aG as A,ae as g,bx as f}from"./@vue-RtdEgFn9.js";import{_ as C}from"./index-X9TikCm4.js";import"./axios-xY6ymfx7.js";import"./sweetalert2-ZSPr1-be.js";import"./@ckeditor-15bwuaMj.js";import"./vue-ogx55dXw.js";import"./vue-loading-overlay-6MyPOO4d.js";import"./favoriteStore-Z2QY64HZ.js";import"./statusStore-6mt2sTJ7.js";import"./userCartStore-aEWKtqex.js";import"./vue-axios-1bbP-7uc.js";import"./vue-sweetalert2-HUKuUMJw.js";import"./vee-validate-O19HqbHO.js";import"./@vee-validate-Akla6Y1w.js";import"./bootstrap-HkqsEQF2.js";import"./@popperjs-kvWuk1nc.js";/* empty css                        */import"./aos-n3b4jLc5.js";import"./vue-router-RDvB-lrw.js";var S={VITE_API:"https://vue3-course-api.hexschool.io/v2",VITE_PATH:"wandererland",BASE_URL:"/WandererLand/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_API:T,VITE_PATH:B}=S,E={data(){return{artist:{},relatedProducts:[]}},methods:{...I(u,["getAllProducts"]),changeImage(s){this.artist.currentImage=this.artist.imagesStock[s]},getCurrentArtist(s){const e=`${T}/api/${B}/product/${s}`;return this.axios.get(e).then(r=>{const n=r.data.product;return this.artist={artistInfo:n,currentImage:n.imageUrl},n.imagesUrl&&(this.artist.imagesStock=[n.imageUrl,...n.imagesUrl]),n.title}).catch(r=>console.log(r.response.data.message))},getRelatedProducts(s){let e=this.sortNewest.newestProduct.filter(r=>r.artist===s);e.length||(e=this.sortNewest.newestProduct.filter(r=>r.group===this.artist.artistInfo.group)),this.relatedProducts=e}},async mounted(){try{const s=this.$route.params.id,e=await this.getCurrentArtist(s);await this.getAllProducts(),this.getRelatedProducts(e)}catch(s){throw console.log("錯誤:",s),s}},computed:{...P(u,["sortNewest"])},components:{ProductCard:k,BtnFavorite:y}},V={key:0,class:"container user-page-container"},N={class:"row g-1 g-lg-6"},R={class:"col-12 col-md-8"},U={class:"row"},D={class:"position-relative col-12 col-lg-3"},L={class:"bg-tertiary h-100 overflow-hidden"},F={key:0,class:"position-lg-absolute row px-2 py-2 py-lg-0 px-lg-auto flex-nowrap flex-lg-column overflow-auto scrollbar-y-hide w-lg-100 h-lg-100"},j=["onClick"],H=["src"],M={class:"col-12 col-lg-9 order-first order-lg-last flex-shrink-0 content"},O={class:"bg-tertiary ratio-1x1 overflow-hidden"},z=["src","alt"],G={class:"col-12 col-md-4"},W={class:"p-3 p-lg-7 mb-3 mb-md-6 bg-tertiary"},Y={class:"d-flex justify-content-between align-items-start mb-5 mb-md-7"},q={class:"h5 fw-bold"},J={class:"lh-base lh-md-lg fs-info text-info"},K={key:1,class:"container"},Q={class:"py-7 py-md-9"},X=t("h2",{class:"mb-7 mb-md-8 fs-2 fs-md-1"},"藝術家作品",-1),Z={class:"row g-3 g-md-8"},$={class:"fs-info fs-md-6 text-info"};function tt(s,e,r,n,o,v){const w=_("BtnFavorite"),b=_("ProductCard");return a(),c(l,null,[o.artist.artistInfo?(a(),c("div",V,[t("div",N,[t("div",R,[t("div",U,[t("div",D,[t("div",L,[o.artist.imagesStock?(a(),c("div",F,[(a(!0),c(l,null,h(o.artist.imagesStock,(i,p)=>(a(),c("a",{href:"#",class:"col-3 col-lg-12 py-0 py-lg-2 overflow-hidden",key:"img"+p,onClick:x(st=>v.changeImage(p),["prevent"])},[t("img",{src:i,alt:"product",class:A(["object-fit-contain w-100 h-100",i===o.artist.currentImage?"border border-2 border-info":""])},null,10,H)],8,j))),128))])):d("",!0)])]),t("div",M,[t("div",O,[t("img",{src:o.artist.currentImage,alt:o.artist.artistInfo.title,class:"object-fit-contain w-100 h-100"},null,8,z)])])])]),t("div",G,[t("div",W,[t("div",Y,[t("div",null,[t("h2",q,m(o.artist.artistInfo.title),1)])]),t("p",J,m(o.artist.artistInfo.content),1)])])])])):d("",!0),o.relatedProducts.length?(a(),c("div",K,[t("div",Q,[X,t("div",Z,[(a(!0),c(l,null,h(o.relatedProducts,i=>(a(),c("div",{class:"col-6 col-md-4",key:i.id},[g(b,{item:i,linkTo:`/productInfo/${i.id}`},{price:f(()=>[t("p",$,"NT$ "+m(i.price.toLocaleString()),1)]),favorite:f(()=>[g(w,{productId:i.id},null,8,["productId"])]),_:2},1032,["item","linkTo"])]))),128))])])])):d("",!0)],64)}const xt=C(E,[["render",tt]]);export{xt as default};
