import{u as d}from"./userProductStore--1YIGR4G.js";import{m as w,a as S}from"./pinia-D6A4allF.js";import{A as P,P as y,N,S as B,a as v}from"./swiper-DJip80j2.js";import{B as D}from"./BtnSwiperNavigation-Oz8utHZI.js";import{P as k}from"./productCard-n8P0Y1Yo.js";import{B as C}from"./BtnSeeMore-xcTboMcu.js";import{_ as A}from"./index-DedpZ7u7.js";import{a_ as a,aR as i,a5 as u,a6 as c,ba as x,a3 as m,a4 as I,ae as r,bx as p,L as b,aY as O}from"./@vue-zaZYt_0T.js";const J={props:["dataCategory"],data(){return{maxNumItem:8,DataInfo:{products:{title:"探索新作品",path:"/productlist",infoPath:"productinfo"},artists:{title:"認識新藝術家",path:"/artistlist",infoPath:"artistinfo"},recently:{title:"猜你喜歡",path:"",infoPath:"productinfo"}},currentDatas:[],modules:[P,y,N],isArtistBlock:!0}},methods:{...w(d,["getAllProducts"]),shuffleArray(t){for(let s=t.length-1;s>0;s--){const o=Math.floor(Math.random()*(s+1));[t[s],t[o]]=[t[o],t[s]]}return t},getRandomProducts(t){const s=this.maxNumItem-this.currentDatas.length;return this.shuffleArray(t).slice(0,s)},async getAllDatas(){await this.getAllProducts(),this.dataCategory==="artists"&&(this.currentDatas=JSON.parse(JSON.stringify(this.sortNewest.newestArtist)).slice(0,this.maxNumItem)),this.dataCategory==="products"&&(this.currentDatas=JSON.parse(JSON.stringify(this.sortNewest.newestProduct)).slice(0,this.maxNumItem)),this.dataCategory==="recently"&&(this.currentDatas=this.currentDatas.concat(this.getRandomProducts(this.sortNewest.newestProduct)))}},mounted(){if(this.isArtistBlock=this.dataCategory==="artists",this.dataCategory==="recently"){const t=JSON.parse(localStorage.getItem("recentlyList"))||[];if(this.currentDatas=t,this.currentDatas.length>=this.maxNumItem)return}this.getAllDatas()},computed:{...S(d,["sortNewest"])},components:{Swiper:B,SwiperSlide:v,BtnSwiperNavigation:D,ProductCard:k,BtnSeeMore:C},inject:["triggerGetFavorites"]},M={class:"py-7 py-md-9"},V={class:"d-flex justify-content-between align-items-center mb-7 mb-md-8"},F={class:"fs-2 fs-md-1"},L={class:"position-relative"};function T(t,s,o,j,e,E){const h=a("BtnSeeMore"),f=a("ProductCard"),g=a("SwiperSlide"),l=a("BtnSwiperNavigation"),_=a("Swiper");return i(),u("div",M,[c("div",V,[c("h2",F,x(e.DataInfo[o.dataCategory].title),1),e.DataInfo[o.dataCategory].path!==""?(i(),m(h,{key:0,linkTo:e.DataInfo[o.dataCategory].path},null,8,["linkTo"])):I("",!0)]),c("div",L,[r(_,{slidesPerView:2,spaceBetween:12,pagination:{clickable:!0},breakpoints:{768:{slidesPerView:3,spaceBetween:48}},autoplay:{delay:5e3,disableOnInteraction:!1},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},modules:e.modules,class:"product-swiper"},{default:p(()=>[(i(!0),u(b,null,O(e.currentDatas,n=>(i(),m(g,{key:n.id},{default:p(()=>[r(f,{item:n,linkTo:`/${e.DataInfo[o.dataCategory].infoPath}/${n.id}`,showPrice:!e.isArtistBlock,showFavorite:!e.isArtistBlock,shape:e.isArtistBlock?"rounded-circle":"",titlePosition:e.isArtistBlock?"text-center":""},null,8,["item","linkTo","showPrice","showFavorite","shape","titlePosition"])]),_:2},1024))),128)),r(l,{position:"bottom",direction:"next"}),r(l,{position:"bottom",direction:"prev"})]),_:1},8,["navigation","modules"])])])}const U=A(J,[["render",T],["__scopeId","data-v-e55a4fee"]]);export{U as S};
