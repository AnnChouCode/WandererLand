import{c}from"./userCartStore-aEWKtqex.js";import{m as _,a as b}from"./pinia-MbC3oHy8.js";import{_ as g}from"./index--Ez_MJjB.js";import{a_ as n,aR as v,a3 as V,bx as x,a6 as o,ae as t,aG as d}from"./@vue-RtdEgFn9.js";import"./statusStore-6mt2sTJ7.js";import"./axios-xY6ymfx7.js";import"./sweetalert2-ZSPr1-be.js";import"./@ckeditor-15bwuaMj.js";import"./vue-ogx55dXw.js";import"./vue-loading-overlay-6MyPOO4d.js";import"./vue-axios-1bbP-7uc.js";import"./vue-sweetalert2-HUKuUMJw.js";import"./vee-validate-O19HqbHO.js";import"./@vee-validate-Akla6Y1w.js";import"./bootstrap-HkqsEQF2.js";import"./@popperjs-kvWuk1nc.js";/* empty css                        */import"./aos-n3b4jLc5.js";import"./vue-router-RDvB-lrw.js";var w={VITE_API:"https://vue3-course-api.hexschool.io/v2",VITE_PATH:"wandererland",BASE_URL:"/WandererLand/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_API:B,VITE_PATH:E}=w,k={data(){return{form:{user:{email:"",tel:"",address:""},message:""}}},methods:{..._(c,["getCartsList"]),checkOrder(){const f=this.$loading.show(),e=`${B}/api/${E}/order`,u={data:this.form};this.axios.post(e,u).then(l=>{this.swalInfoCheckWithBootstrapButtons.fire({title:`<p> ${l.data.message}</p><p>訂單編號 </p><p>${l.data.orderId}</p>`,confirmButtonText:"確認"}),this.$refs.form.resetForm(),this.getCartsList(),this.$router.push(`/order/payorder/${l.data.orderId}`)}).catch(l=>{this.swalInfoCheckWithBootstrapButtons.fire({icon:"error",text:l.response.data.message,confirmButtonText:"確認"})}).finally(()=>{f.hide()})}},mounted(){this.getCartsList(),this.swalInfoCheckWithBootstrapButtons=this.$swal.mixin({customClass:{confirmButton:"m-1 btn btn-default"},buttonsStyling:!1})},computed:{...b(c,["cartsList"])}},y={class:"mb-4 mb-md-7 form-floating w-100"},C=o("label",{for:"Email",class:"form-label has-required"},"Email",-1),I={class:"mb-4 mb-md-7 form-floating w-100"},q=o("label",{for:"name",class:"form-label has-required"},"收件人姓名",-1),S={class:"mb-4 mb-md-7 form-floating w-100"},T=o("label",{for:"tel",class:"form-label has-required"},"收件人電話",-1),U={class:"mb-4 mb-md-7 form-floating w-100"},A=o("label",{for:"address",class:"form-label has-required"},"收件人地址",-1),L={class:"mb-4 mb-md-7 form-floating w-100"},M=o("label",{for:"message",class:"form-label"},"留言",-1),O=o("button",{class:"py-2 py-md-3 px-6 px-md-9 btn btn-default fw-bold rounded-0 w-100 w-md-auto",type:"submit"}," 訂單確認 ",-1);function P(f,e,u,l,s,p){const a=n("v-field"),m=n("error-message"),h=n("v-form");return v(),V(h,{ref:"form",class:"d-flex flex-column align-items-end",onSubmit:p.checkOrder},{default:x(({errors:i})=>[o("div",y,[t(a,{id:"email",name:"Email",type:"email",class:d(["form-control border-info rounded-0",{"is-invalid":i.Email}]),placeholder:"請輸入 Email",rules:"email|required",modelValue:s.form.user.email,"onUpdate:modelValue":e[0]||(e[0]=r=>s.form.user.email=r),modelModifiers:{trim:!0}},null,8,["class","modelValue"]),t(m,{name:"Email",class:"invalid-feedback"}),C]),o("div",I,[t(a,{id:"name",name:"姓名",type:"text",class:d(["form-control border-info rounded-0",{"is-invalid":i.姓名}]),placeholder:"請輸入姓名",rules:"required",modelValue:s.form.user.name,"onUpdate:modelValue":e[1]||(e[1]=r=>s.form.user.name=r),modelModifiers:{trim:!0}},null,8,["class","modelValue"]),t(m,{name:"姓名",class:"invalid-feedback"}),q]),o("div",S,[t(a,{id:"tel",name:"電話",type:"tel",class:d(["form-control border-info rounded-0",{"is-invalid":i.電話}]),placeholder:"請輸入國內電話",rules:{required:!0,regex:/^(09)[0-9]{8}$/},modelValue:s.form.user.tel,"onUpdate:modelValue":e[2]||(e[2]=r=>s.form.user.tel=r),modelModifiers:{trim:!0}},null,8,["class","modelValue"]),t(m,{name:"電話",class:"invalid-feedback"}),T]),o("div",U,[t(a,{id:"address",name:"地址",type:"text",class:d(["form-control border-info rounded-0",{"is-invalid":i.地址}]),placeholder:"請輸入地址",rules:"required",modelValue:s.form.user.address,"onUpdate:modelValue":e[3]||(e[3]=r=>s.form.user.address=r),modelModifiers:{trim:!0}},null,8,["class","modelValue"]),t(m,{name:"地址",class:"invalid-feedback"}),A]),o("div",L,[t(a,{id:"message",name:"message",class:"form-control border-info rounded-0",cols:"30",rows:"10",modelValue:s.form.message,"onUpdate:modelValue":e[4]||(e[4]=r=>s.form.message=r),modelModifiers:{trim:!0},as:"textarea",placeholder:"請輸入您的留言",style:{height:"273px"}},null,8,["modelValue"]),M]),O]),_:1},8,["onSubmit"])}const re=g(k,[["render",P]]);export{re as default};
