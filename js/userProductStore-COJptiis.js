import{d as n}from"./pinia-D1tb24LR.js";import{a as p}from"./axios-Di5RpEPX.js";import{s as u}from"./sweetalert2-Bxbxx77j.js";import{d as l}from"./vue-loading-overlay-CtFUBeEI.js";var d={VITE_API:"https://vue3-course-api.hexschool.io/v2",VITE_PATH:"wandererland",BASE_URL:"/WandererLand/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const m=l.useLoading(),{VITE_API:S,VITE_PATH:f}=d,h=n("allProductsStore",{state:()=>({allProducts:[],allArtists:[],productSizeList:[],filter:[]}),actions:{getAllProducts(){const a=m.show(),e=`${S}/api/${f}/products/all`;return p.get(e).then(t=>{const s=t.data.products;this.allProducts=s.filter(r=>r.category==="products"),this.allArtists=s.filter(r=>r.category==="artists").sort((r,i)=>r.title.localeCompare(i.title))}).catch(t=>{u.fire({icon:"error",text:t.response.data.message})}).finally(()=>{a.hide()})},getSizeList(){const e=[...new Set(this.allProducts.map(t=>t.size))].sort((t,s)=>t[0]-s[0]);this.productSizeList=e}},getters:{sortNewest:({allProducts:a,allArtists:e})=>{const t=JSON.parse(JSON.stringify(e)),s=JSON.parse(JSON.stringify(a)),r=t.sort((o,c)=>c.create_at-o.create_at),i=s.sort((o,c)=>c.create_at-o.create_at);return{newestArtist:r,newestProduct:i}},groupList:({allProducts:a,allArtists:e})=>{const s=[...new Set(a.map(o=>o.group))],i=[...new Set(e.map(o=>o.group))];return{productGroupList:s,artistGroupList:i}}}});export{h as u};
