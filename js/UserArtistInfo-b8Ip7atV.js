import{u}from"./userProductStore--1YIGR4G.js";import{m as b,a as P}from"./pinia-D6A4allF.js";import{P as I}from"./productCard-dwMhnoDD.js";import{a_ as p,aR as i,a5 as a,a6 as t,L as l,aY as h,a4 as d,ba as _,ae as g,bC as y,aG as k}from"./@vue-zaZYt_0T.js";import{_ as A}from"./index-4m7lMajm.js";import"./axios-xY6ymfx7.js";import"./sweetalert2-NwvYGOW7.js";import"./@ckeditor-bzq-HQy0.js";import"./vue-zaw7FvyG.js";import"./vue-loading-overlay-nDy6RxjO.js";import"./BtnFavorite-47F9kbHN.js";import"./favoriteStore-gdu0HLaJ.js";import"./statusStore-ZshnCoww.js";import"./userCartStore-WPGHv7Su.js";import"./vue-axios-1bbP-7uc.js";import"./vue-sweetalert2-HUKuUMJw.js";import"./vee-validate-yOM-A2XF.js";import"./@vee-validate-vwB3goxc.js";import"./bootstrap-Lpi9Oc84.js";import"./@popperjs-kvWuk1nc.js";/* empty css                        */import"./aos-ZvF7bt_9.js";import"./vue-router--ANrfSlZ.js";var x={VITE_API:"https://vue3-course-api.hexschool.io/v2",VITE_PATH:"wandererland",BASE_URL:"/WandererLand/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_API:C,VITE_PATH:S}=x,E={data(){return{artist:{},relatedProducts:[]}},methods:{...b(u,["getAllProducts"]),changeImage(s){this.artist.currentImage=this.artist.imagesStock[s]},getCurrentArtist(s){const e=`${C}/api/${S}/product/${s}`;return this.axios.get(e).then(r=>{const c=r.data.product;return this.artist={artistInfo:c,currentImage:c.imageUrl},c.imagesUrl&&(this.artist.imagesStock=[c.imageUrl,...c.imagesUrl]),c.title}).catch(r=>console.log(r.response.data.message))},getRelatedProducts(s){let e=this.sortNewest.newestProduct.filter(r=>r.artist===s);e.length||(e=this.sortNewest.newestProduct.filter(r=>r.group===this.artist.artistInfo.group)),this.relatedProducts=e}},async mounted(){try{const s=this.$route.params.id,e=await this.getCurrentArtist(s);await this.getAllProducts(),this.getRelatedProducts(e)}catch(s){throw console.log("錯誤:",s),s}},computed:{...P(u,["sortNewest"])},components:{ProductCard:I}},T={key:0,class:"container user-page-container"},V={class:"row g-1 g-lg-6"},N={class:"col-12 col-md-8"},R={class:"row"},U={class:"position-relative col-12 col-lg-3"},D={class:"bg-tertiary h-100 overflow-hidden"},B={key:0,class:"position-lg-absolute row px-2 py-2 py-lg-0 px-lg-auto flex-nowrap flex-lg-column overflow-auto scrollbar-y-hide w-lg-100 h-lg-100"},F=["onClick"],L=["src"],j={class:"col-12 col-lg-9 order-first order-lg-last flex-shrink-0 content"},H={class:"bg-tertiary ratio-1x1 overflow-hidden"},M=["src","alt"],O={class:"col-12 col-md-4"},z={class:"p-3 p-lg-7 mb-3 mb-md-6 bg-tertiary"},G={class:"d-flex justify-content-between align-items-start mb-5 mb-md-7"},W={class:"h5 fw-bold"},Y={class:"lh-base lh-md-lg fs-info text-info"},q={key:1,class:"container"},J={class:"py-7 py-md-9"},K=t("h2",{class:"mb-7 mb-md-8 fs-2 fs-md-1"},"藝術家作品",-1),Q={class:"row g-3 g-md-8"};function X(s,e,r,c,o,f){const v=p("btnFavorite"),w=p("ProductCard");return i(),a(l,null,[o.artist.artistInfo?(i(),a("div",T,[t("div",V,[t("div",N,[t("div",R,[t("div",U,[t("div",D,[o.artist.imagesStock?(i(),a("div",B,[(i(!0),a(l,null,h(o.artist.imagesStock,(n,m)=>(i(),a("a",{href:"#",class:"col-3 col-lg-12 py-0 py-lg-2 overflow-hidden",key:"img"+m,onClick:y(Z=>f.changeImage(m),["prevent"])},[t("img",{src:n,alt:"product",class:k(["object-fit-contain w-100 h-100",n===o.artist.currentImage?"border border-2 border-info":""])},null,10,L)],8,F))),128))])):d("",!0)])]),t("div",j,[t("div",H,[t("img",{src:o.artist.currentImage,alt:o.artist.artistInfo.title,class:"object-fit-contain w-100 h-100"},null,8,M)])])])]),t("div",O,[t("div",z,[t("div",G,[t("div",null,[t("h2",W,_(o.artist.artistInfo.title),1)]),g(v)]),t("p",Y,_(o.artist.artistInfo.content),1)])])])])):d("",!0),o.relatedProducts.length?(i(),a("div",q,[t("div",J,[K,t("div",Q,[(i(!0),a(l,null,h(o.relatedProducts,n=>(i(),a("div",{class:"col-6 col-md-4",key:n.id},[g(w,{item:n,linkTo:`/productInfo/${n.id}`,showPrice:!0,showFavorite:!0},null,8,["item","linkTo"])]))),128))])])])):d("",!0)],64)}const It=A(E,[["render",X]]);export{It as default};
