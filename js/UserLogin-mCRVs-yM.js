import{_}from"./index-4m7lMajm.js";import{a_ as i,aR as h,a5 as b,a6 as s,ae as t,bx as w,aG as p}from"./@vue-zaZYt_0T.js";import"./pinia-D6A4allF.js";import"./axios-xY6ymfx7.js";import"./vue-axios-1bbP-7uc.js";import"./vue-loading-overlay-nDy6RxjO.js";import"./@ckeditor-bzq-HQy0.js";import"./vue-zaw7FvyG.js";import"./vue-sweetalert2-HUKuUMJw.js";import"./sweetalert2-NwvYGOW7.js";import"./vee-validate-yOM-A2XF.js";import"./@vee-validate-vwB3goxc.js";import"./bootstrap-Lpi9Oc84.js";import"./@popperjs-kvWuk1nc.js";/* empty css                        */import"./aos-ZvF7bt_9.js";import"./vue-router--ANrfSlZ.js";var v={VITE_API:"https://vue3-course-api.hexschool.io/v2",VITE_PATH:"wandererland",BASE_URL:"/WandererLand/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_API:x}=v,g={data(){return{user:{username:"",password:""}}},methods:{login(){const m=`${x}/admin/signin`,{username:o,password:l}=this.user,d={username:o,password:l};this.axios.post(m,d).then(e=>{const{token:a,expired:r}=e.data;document.cookie=`user = ${a}; expires = ${new Date(r)}`,this.$swal.fire({title:"登入成功",confirmButtonColor:"#333333",confirmButtonText:"確認"}).then(()=>{this.$router.push("/admin")})}).catch(e=>{this.swalInfoCheckWithBootstrapButtons.fire({icon:"error",text:e.response.data.message,confirmButtonText:"確認"})})}},mounted(){this.swalInfoCheckWithBootstrapButtons=this.$swal.mixin({customClass:{confirmButton:"m-1 btn btn-default"},buttonsStyling:!1})}},B={class:"flex-grow-1 pt-11 pt-md-12 pb-7 pb-md-9 container"},V=s("h2",{class:"mb-7 mb-md-8 text-center fs-4 fs-md-1"},"登入使用者後台",-1),k={class:"row justify-content-center"},E={class:"col-12 col-md-6"},C={class:"form-floating mb-4 mb-md-7"},I=s("label",{for:"username"},"Email address",-1),P={class:"form-floating mb-4 mb-md-7"},S=s("label",{for:"password"},"Password",-1),T=s("button",{class:"btn btn-lg btn-default w-100 rounded-0",type:"submit"}," 登入 ",-1);function y(m,o,l,d,e,a){const r=i("v-field"),c=i("error-message"),f=i("v-form");return h(),b("div",B,[V,s("div",k,[s("div",E,[t(f,{class:"form-signin",onSubmit:a.login},{default:w(({errors:u})=>[s("div",C,[t(r,{id:"username",name:"email",type:"email",class:p(["form-control border-default rounded-0",{"is-invalid":u.email}]),placeholder:"name@example.com",rules:"email|required",modelValue:e.user.username,"onUpdate:modelValue":o[0]||(o[0]=n=>e.user.username=n)},null,8,["class","modelValue"]),t(c,{name:"email",class:"invalid-feedback"}),I]),s("div",P,[t(r,{id:"userpassword",name:"password",type:"password",class:p(["form-control border-default rounded-0",{"is-invalid":u.password}]),placeholder:"Password",rules:"required",modelValue:e.user.password,"onUpdate:modelValue":o[1]||(o[1]=n=>e.user.password=n)},null,8,["class","modelValue"]),t(c,{name:"password",class:"invalid-feedback"}),S]),T]),_:1},8,["onSubmit"])])])])}const K=_(g,[["render",y]]);export{K as default};
